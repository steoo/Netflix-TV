(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
 * This class represents a View for a single channel
 * */

var ChannelsContainer = exports.ChannelsContainer = function () {
    function ChannelsContainer(position) {
        _classCallCheck(this, ChannelsContainer);

        this.$position = $(position);
        this.template = "<div class=\"lolomoRow lolomoRow_title_card\">\n                            <h2 class=\"rowHeader\">\n                                <a class=\"rowTitle\" href=\"javascript:void(0)\">\n                                    <span>Channels</span>\n                                </a>\n                            </h2>\n                             <div class=\"rowContainer rowContainer_title_card\">\n                                <div class=\"rowContent slider-hover-trigger-layer\">\n                                    <div class=\"slider\">\n                                       <div class=\"sliderMask showPeek\">\n                                            <div class=\"sliderContent row-with-x-columns channels-container\"></div>\n                                       </div>\n                                    </div>\n                                </div>\n                             </div>\n                         </div>";
        this.$template = $(this.template);
        this.$container = null;
    }

    _createClass(ChannelsContainer, [{
        key: "render",
        value: function render() {
            /** Building the container for the channels */
            this.$container = this.$template.insertAfter(this.$position);
            this.$container = this.$container.find(".channels-container");
            console.log("Rendered: ", this.$container);
        }
    }, {
        key: "renderChannel",
        value: function renderChannel(channel) {
            console.log("Rendering channel: ", channel);
            this.$container.append(channel.render());
        }
    }]);

    return ChannelsContainer;
}();

var Channel = exports.Channel = function () {
    function Channel(model) {
        _classCallCheck(this, Channel);

        this.model = model;
    }

    _createClass(Channel, [{
        key: "render",
        value: function render() {
            var name = this.model.name;
            var id = this.model.id;

            return "<div class=\"slider-item slider-item-" + id + "\">\n                    <div class=\"title-card-container\">\n                        <div id=\"title-card-" + id + "-" + name + "\" class=\"smallTitleCard lockup title_card sliderRefocus \" tabindex=\"0\" aria-label=\"" + name + "\" role=\"link\">\n                            <div class=\"ptrack-content\">\n                                <a href=\"/browse/genre/" + id + "\" class=\"rowTitle\">\n                                    <h2>" + name + "</h2>\n                                    <div class=\"video-artwork\" style=\"background-image:url(http://cdn1.nflximg.net/webp/2305/23132305.webp);\"></div>\n                                </a>\n                            </div>\n                        </div>\n                    </div>\n                </div>";
        }
    }]);

    return Channel;
}();

},{}],2:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Classic MVC controller for communication between channel view and its model
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * */


var _channel = require("../classes/channel.js");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Controller = function () {
    function Controller(view, model) {
        _classCallCheck(this, Controller);

        this.view = view;
        this.model = model;
    }

    _createClass(Controller, [{
        key: "renderChannels",
        value: function renderChannels() {
            console.log(this.model.length, this.model.getCategory(1));
            for (var i = 0; i < this.model.length; i++) {
                var channel = new _channel.Channel(this.model.getCategory(i));
                this.view.renderChannel(channel);
            }
        }
    }]);

    return Controller;
}();

exports.default = Controller;

},{"../classes/channel.js":1}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /** Making a static singleton model */


var _categories = require("../data/categories.js");

var _categories2 = _interopRequireDefault(_categories);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

//console.log("Availables:", categories);

var Model = function () {
    function Model(categories) {
        _classCallCheck(this, Model);

        this.categories = categories;
    }

    _createClass(Model, [{
        key: "getCategory",
        value: function getCategory(index) {
            return this.categories[index];
        }
    }, {
        key: "length",
        get: function get() {
            return this.categories.length;
        }
    }]);

    return Model;
}();

var d = new Model(_categories2.default);

exports.default = d;

},{"../data/categories.js":4}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
var categories = [{
    name: "action",
    id: 1365
}, {
    name: "comedy",
    id: 6548
}, {
    name: "drama",
    id: 5763
}, {
    name: "sci-fi",
    id: 1492
}, {
    name: "romantic",
    id: 8883
}];

exports.default = categories;

},{}],5:[function(require,module,exports){
"use strict";

var _model = require("../classes/model.js");

var _model2 = _interopRequireDefault(_model);

var _controller = require("../classes/controller.js");

var _controller2 = _interopRequireDefault(_controller);

var _channel = require("../classes/channel.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var channelsContainer = new _channel.ChannelsContainer(".billboard-row");
var controller = new _controller2.default(channelsContainer, _model2.default);

chrome.extension.sendMessage({}, function (response) {
    var readyStateCheckInterval = setInterval(function () {
        if (document.readyState === "complete") {
            clearInterval(readyStateCheckInterval);

            //appendChannels();
            console.log(_model2.default);
            channelsContainer.render();
            controller.renderChannels();
        }
    }, 10);
});

function appendChannels() {
    var div = '<div class="lolomoRow lolomoRow_title_card"><h2 class="rowHeader"><a href="/browse/genre/1365" class="rowTitle">Channel 1</a></h2></div>';
    var $after = ".billboard-row";

    $(div).insertAfter($after);
}

},{"../classes/channel.js":1,"../classes/controller.js":2,"../classes/model.js":3}]},{},[5])


//# sourceMappingURL=inject.min.js.map
